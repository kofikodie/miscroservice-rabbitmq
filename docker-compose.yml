version: "3.7"
services:
  rabbitmq:
    image: rabbitmq:3-management
    ports:
      - "5672:5672"
      - "15672:15672"
  sender:
    image: sender:headers
    build:
      context: .
      dockerfile: .docker/sender/Dockerfile
    depends_on:
      - rabbitmq
  receiver:
    image: receiver:headers
    build:
      context: .
      dockerfile: .docker/receiver/Dockerfile
    depends_on:
      - rabbitmq